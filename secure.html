<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞—â–∏—â–µ–Ω–Ω–∞—è –°–≠–î</title>
    <style>
        /* ... (—Å—Ç–∏–ª–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ main.html –æ—Å—Ç–∞—é—Ç—Å—è) ... */
        
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ */
        .integrity-valid {
            color: #4CAF50;
            font-weight: bold;
        }
        
        .integrity-invalid {
            color: #f44336;
            font-weight: bold;
        }
        
        .security-panel {
            background-color: #2d2d2d;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
            border-left: 4px solid #4CAF50;
        }
        
        .security-panel.warning {
            border-left-color: #ff9800;
        }
        
        .security-panel.danger {
            border-left-color: #f44336;
        }
        
        .hash-display {
            font-family: monospace;
            background-color: #1e1e1e;
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 12px;
            word-break: break-all;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <h1>üîê –°–≠–î</h1>
            <small>–ó–∞—â–∏—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è</small>
        </div>
        <div class="nav-item" onclick="loadDocuments()">
            <i>üìÑ</i>
            <span>–ú–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã</span>
        </div>
        <div class="nav-item" onclick="showUploadSection()">
            <i>üì§</i>
            <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</span>
        </div>
        <div class="nav-item" onclick="showSecurityInfo()">
            <i>üõ°Ô∏è</i>
            <span>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</span>
        </div>
        <div class="nav-item" onclick="logout()" style="margin-top: auto;">
            <i>üö™</i>
            <span>–í—ã—Ö–æ–¥</span>
        </div>
    </div>
    
    <div class="main-content">
        <div class="search-bar">
            <i>üîç</i>
            <input type="text" placeholder="–ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤..." id="searchInput">
        </div>
        
        <!-- –ü–∞–Ω–µ–ª—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ -->
        <div class="security-panel" id="securityPanel" style="display: none;">
            <h3>üõ°Ô∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h3>
            <div id="securityInfo"></div>
        </div>
        
        <!-- –°–µ–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ -->
        <div class="upload-form" id="uploadSection" style="display: none;">
            <h2>üì§ –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª</h2>
            <div style="margin: 15px 0; padding: 10px; background-color: #3d3d3d; border-radius: 5px;">
                <small>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: PDF, DOC, DOCX, TXT, JPG, PNG, XLS, XLSX</small><br>
                <small>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 10MB</small>
            </div>
            <input type="file" id="fileInput" name="fileInput">
            <button onclick="uploadFile()">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
        </div>
        
        <!-- –°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ -->
        <div class="document-list" id="documentList">
            <!-- –î–æ–∫—É–º–µ–Ω—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
        </div>
    </div>

    <script>
        const API_URL = 'http://localhost:3000/api';
        let token = localStorage.getItem('sed_token');
        let currentUser = null;

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        if (!token) {
            window.location.href = '/registry.html';
        } else {
            try {
                currentUser = JSON.parse(localStorage.getItem('sed_user'));
                document.title = `–°–≠–î - ${currentUser.username}`;
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', e);
                window.location.href = '/registry.html';
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
        async function uploadFile() {
            const fileInput = document.getElementById('fileInput');
            const file = fileInput.files[0];
            
            if (!file) {
                alert('‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏');
                return;
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
            if (file.size > 10 * 1024 * 1024) {
                alert('‚ùå –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 10MB');
                return;
            }

            const formData = new FormData();
            formData.append('file', file);

            try {
                const response = await fetch(`${API_URL}/upload`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`
                    },
                    body: formData
                });

                const result = await response.json();
                
                if (response.ok) {
                    showNotification(`‚úÖ –§–∞–π–ª "${file.name}" —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω! –•–µ—à: ${result.document.hash.substring(0, 16)}...`);
                    fileInput.value = '';
                    await loadDocuments();
                } else {
                    showNotification(`‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${result.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`, 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏:', error);
                showNotification('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞', 'error');
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
        async function loadDocuments() {
            showUploadSection();
            try {
                const response = await fetch(`${API_URL}/documents`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                if (response.status === 401) {
                    logout();
                    return;
                }

                const result = await response.json();
                
                if (result.success) {
                    updateDocumentList(result.documents);
                } else {
                    showNotification('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏:', error);
                showNotification('‚ùå –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º', 'error');
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
        function updateDocumentList(documents) {
            const documentList = document.getElementById('documentList');
            
            if (!documents || documents.length === 0) {
                documentList.innerHTML = `
                    <div class="document-item" style="text-align: center; padding: 30px;">
                        <h3>üìÅ –ù–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</h3>
                        <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π —Ñ–∞–π–ª</p>
                    </div>`;
                return;
            }

            documentList.innerHTML = '<h2>üìã –ú–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã</h2>';
            
            documents.forEach(doc => {
                const documentItem = document.createElement('div');
                documentItem.className = 'document-item';
                documentItem.id = `doc-${doc.id}`;
                
                // –ò–∫–æ–Ω–∫–∞ —Ñ–∞–π–ª–∞
                const fileIcon = getFileIcon(doc.mimeType);
                
                // –°—Ç–∞—Ç—É—Å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
                const integrityBadge = doc.integrityValid !== undefined ? 
                    `<span class="${doc.integrityValid ? 'integrity-valid' : 'integrity-invalid'}">
                        ${doc.integrityValid ? '‚úì –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞' : '‚úó –ù–∞—Ä—É—à–µ–Ω–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å'}
                    </span>` : '';
                
                documentItem.innerHTML = `
                    <div style="display: flex; align-items: center; flex: 1;">
                        <i style="font-size: 24px; margin-right: 15px;">${fileIcon}</i>
                        <div style="flex: 1;">
                            <div style="font-weight: bold;">${doc.name}</div>
                            <div style="font-size: 12px; color: #aaa; margin-top: 5px;">
                                –†–∞–∑–º–µ—Ä: ${formatFileSize(doc.size)} | 
                                –ó–∞–≥—Ä—É–∂–µ–Ω: ${new Date(doc.uploadedAt).toLocaleDateString()} |
                                ${integrityBadge}
                            </div>
                            ${doc.hash ? `
                            <div style="margin-top: 5px;">
                                <small>–•–µ—à SHA-256:</small><br>
                                <div class="hash-display">${doc.hash}</div>
                            </div>` : ''}
                        </div>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="download-btn" onclick="downloadDocument(${doc.id}, '${doc.name}')">–°–∫–∞—á–∞—Ç—å</button>
                        <button onclick="verifyIntegrity(${doc.id})" 
                                style="background-color: #ff9800;">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                        <button onclick="deleteDocument(${doc.id}, '${doc.name}')" 
                                style="background-color: #f44336;">–£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                `;
                
                documentList.appendChild(documentItem);
            });
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–∞
        async function verifyIntegrity(id) {
            try {
                const response = await fetch(`${API_URL}/verify/${id}`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                const result = await response.json();
                
                if (response.ok) {
                    if (result.integrityValid) {
                        showNotification(`‚úÖ –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!`, 'success');
                    } else {
                        showNotification(`‚ùå –ù–∞—Ä—É—à–µ–Ω–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–∞! –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.`, 'error');
                        console.log('–î–µ—Ç–∞–ª–∏:', result.details);
                    }
                    loadDocuments(); // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫
                } else {
                    showNotification(`‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏: ${result.error}`, 'error');
                }
            } catch (error) {
                showNotification('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏', 'error');
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        async function showSecurityInfo() {
            document.getElementById('uploadSection').style.display = 'none';
            document.getElementById('securityPanel').style.display = 'block';
            
            try {
                const response = await fetch(`${API_URL}/security/stats`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                if (response.status === 403) {
                    document.getElementById('securityInfo').innerHTML = `
                        <p>‚ùå –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</p>
                        <p>–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é</p>
                    `;
                    return;
                }

                const result = await response.json();
                
                if (result.success) {
                    document.getElementById('securityInfo').innerHTML = `
                        <h4>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã:</h4>
                        <ul>
                            <li>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: ${result.systemStats.totalUsers}</li>
                            <li>–î–æ–∫—É–º–µ–Ω—Ç–æ–≤: ${result.systemStats.totalDocuments}</li>
                            <li>–†–∞–∑–º–µ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞: ${formatFileSize(result.systemStats.uploadsDirSize)}</li>
                        </ul>
                        
                        <h4>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</h4>
                        <ul>
                            <li>–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö IP: ${result.securityStats.blockedIPs}</li>
                            <li>–ù–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞: ${result.securityStats.failedLoginAttempts}</li>
                            <li>–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤: ${result.securityStats.uniqueFileHashes}</li>
                        </ul>
                        
                        <h4>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—â–∏—Ç—ã:</h4>
                        <button onclick="testBruteForce()" style="background-color: #2196F3; margin: 5px;">
                            –ò–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å brute-force
                        </button>
                        <button onclick="testRateLimit()" style="background-color: #9C27B0; margin: 5px;">
                            –ò–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å DDoS
                        </button>
                    `;
                }
            } catch (error) {
                document.getElementById('securityInfo').innerHTML = `
                    <p>‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</p>
                `;
            }
        }

        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—â–∏—Ç—ã
        async function testBruteForce() {
            try {
                const response = await fetch(`${API_URL}/test/bruteforce`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                const result = await response.json();
                showNotification(`‚ö†Ô∏è ${result.message}`, 'warning');
            } catch (error) {
                showNotification('‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è', 'error');
            }
        }

        async function testRateLimit() {
            try {
                const response = await fetch(`${API_URL}/test/rate-limit`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                const result = await response.json();
                showNotification(`‚ö†Ô∏è ${result.message}`, 'warning');
            } catch (error) {
                showNotification('‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è', 'error');
            }
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function showUploadSection() {
            document.getElementById('uploadSection').style.display = 'block';
            document.getElementById('securityPanel').style.display = 'none';
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                background-color: ${type === 'error' ? '#f44336' : type === 'warning' ? '#ff9800' : '#4CAF50'};
                color: white;
                border-radius: 5px;
                z-index: 1000;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        function getFileIcon(mimeType) {
            const icons = {
                'pdf': 'üìï',
                'word': 'üìù',
                'excel': 'üìä',
                'image': 'üñºÔ∏è',
                'text': 'üìÉ'
            };
            
            if (mimeType.includes('pdf')) return icons.pdf;
            if (mimeType.includes('word')) return icons.word;
            if (mimeType.includes('excel') || mimeType.includes('spreadsheet')) return icons.excel;
            if (mimeType.includes('image')) return icons.image;
            if (mimeType.includes('text')) return icons.text;
            return 'üìÑ';
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ (—Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–¥–∞)
        async function downloadDocument(id, name) {
            try {
                const response = await fetch(`${API_URL}/download/${id}`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                if (response.ok) {
                    const blob = await response.blob();
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = name;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    window.URL.revokeObjectURL(url);
                    
                    showNotification(`‚úÖ –§–∞–π–ª "${name}" —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è...`);
                } else {
                    const error = await response.json();
                    showNotification(`‚ùå –û—à–∏–±–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è: ${error.error}`, 'error');
                }
            } catch (error) {
                showNotification('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏', 'error');
            }
        }

        async function deleteDocument(id, name) {
            if (!confirm(`–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª "${name}"?`)) return;
            
            try {
                const response = await fetch(`${API_URL}/document/${id}`, {
                    method: 'DELETE',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                const result = await response.json();
                
                if (response.ok) {
                    showNotification(`‚úÖ –§–∞–π–ª "${name}" —É–¥–∞–ª–µ–Ω`);
                    loadDocuments();
                } else {
                    showNotification(`‚ùå –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è: ${result.error}`, 'error');
                }
            } catch (error) {
                showNotification('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏', 'error');
            }
        }

        function logout() {
            localStorage.removeItem('sed_token');
            localStorage.removeItem('sed_user');
            window.location.href = '/registry.html';
        }

        // –ü–æ–∏—Å–∫
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const items = document.querySelectorAll('.document-item');
            
            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(searchTerm) ? 'flex' : 'none';
            });
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        document.addEventListener('DOMContentLoaded', () => {
            loadDocuments();
            
            // –î–æ–±–∞–≤–ª—è–µ–º CSS –∞–Ω–∏–º–∞—Ü–∏–∏
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>